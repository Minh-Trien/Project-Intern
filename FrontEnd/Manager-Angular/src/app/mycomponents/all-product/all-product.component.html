<c-row ngPreserveWhitespaces>
    <c-col xs="12">
        <div class="header-table my-2">
          <span class="mx-5"><c-input-group class="flex-nowrap">
            <span cInputGroupText id="addon-wrapping">Search</span>
            <input 
            aria-describedby="addon-wrapping"
            aria-label="Product Name"
            cFormControl
            placeholder="Product Name"
            [(ngModel)]="searchTerm" 
            (ngModelChange)="onSearchInputChange(searchTerm)"
          />
        </c-input-group></span>

          <span >
            <button 
            (click)="toggleLiveDemo()"
            cButton color="dark" 
            variant="outline"
            class=""     
            >Add New Product</button>
          </span>
<!--AddOrUpdate: true: Add,false: Update-->
        </div>  
        <c-modal id="liveDemoModal" [visible]="liveDemoVisible" (visibleChange)="handleLiveDemoChange($event)">
          <c-modal-header>

            <h5 *ngIf="addOrUpdate"   cModalTitle>Add New Product</h5>
            <h5 *ngIf="!addOrUpdate"   cModalTitle>Update New Product</h5>
            <button (click)="toggleLiveDemo()" cButtonClose></button>
          </c-modal-header>
          <c-modal-body>
            <form cForm class="row g-3">
              <c-col [md]="6">
                <label cLabel for="">Name</label>
                <input 
                cFormControl 
                id="inputName" 
                type="Text"
                required [(ngModel)]="product.name"
                name="name"
                />
              </c-col>
              <c-col [md]="6">
                <label cLabel for="">taskId</label>
                <input 
                cFormControl 
                id="taskId" 
                type="Text"
                required [(ngModel)]="product.taskId"
                name="taskId"
                />
              </c-col>
              <c-col [xs]="12">
                <label cLabel for="">Description</label>
                <input 
                cFormControl 
                id="description" 
                placeholder="Descriptions" 
                type="Text"
                required [(ngModel)]="product.descriptions"
                name="description"
                />
              </c-col>
              <c-col [xs]="12">
                <label cLabel for="">Price</label>
                <input 
                cFormControl 
                id="" 
                placeholder="Price" 
                type="Text" 
                required [(ngModel)]="product.price"
                name="price"
                />
              </c-col>
              <c-col [md]="6">
                <label cLabel for="">Quanlity</label>
                <input 
                cFormControl 
                id="" 
                type="Text"
                required [(ngModel)]="product.quanlity"
                name="quanlity"
                />
              </c-col>
              <c-col [md]="4">
                <label cLabel for="">image</label>
                <input 
                aria-describedby="inputGroupFileAddon04"
                aria-label="Upload"
                cFormControl
                id="inputGroupFile04"
                type="text"
                required [(ngModel)]="product.image"
                name="image">
                
              </c-col>             
            </form>      
          </c-modal-body>
          <c-modal-footer>
            <button (click)="toggleLiveDemo()" cButton color="secondary">
              Close
            </button>
            <button 
            *ngIf="addOrUpdate"
            cButton 
            color="primary"
            (click)="saveProduct()"
            >Save Add</button>
            <button 
            *ngIf="!addOrUpdate"
            cButton 
            color="primary"
            (click)="saveUpdate(product.id)"
            >Save Update</button>
          </c-modal-footer>
        </c-modal>   
    </c-col>
    <c-col xs="12">
      <c-card class="mb-4">       
        <c-card-header>
          <strong>Product List</strong> <small></small>
        </c-card-header>
        <c-card-body>
            <table cTable hover>
                <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">
                  ID
                  <i (click) ="handleSort('id','asc')"><svg 
                  cIcon name="cil-arrow-top" 
                  size="2xl" 
                  ></svg></i>
                  <i (click) ="handleSort('id','desc')"><svg 
                    cIcon name="cil-arrow-bottom" 
                    size="2xl"
                    ></svg></i>
                  </th>
                  <th scope="col">Task ID</th>
                  <th scope="col">Name
                    <i (click) ="handleSort('name','asc')"><svg 
                      cIcon name="cil-arrow-top" 
                      size="2xl" 
                      ></svg></i>
                      <i (click) ="handleSort('name','desc')"><svg 
                        cIcon name="cil-arrow-bottom" 
                        size="2xl"
                        ></svg></i>
                  </th>
                  <th scope="col">Description</th>
                  <th scope="col">Price</th>
                  <th scope="col">Quality</th>
                  <th scope="col">Image</th>
                  <th scope="col">Action</th>
                </tr>
                </thead>
                <tbody>
                <tr  class=""
                *ngFor="let product of products  | paginate : {
                  itemsPerPage: pageSize,
                  currentPage: page,
                  totalItems: count
                };
              let i = index">
                  <th scope="row">{{i}}</th>
                  <td>{{product.id}}</td>
                  <td>{{product.taskId}}</td>
                  <td>{{product.name}}</td>
                  <td>{{product.descriptions}}</td>
                  <td>{{product.price}}</td>
                  <td>{{product.quanlity}}</td>
                  <td>{{product.image}}</td>
                  <td>
                    <button
                    (click)="update(product.id)"
                    ><svg 
                    cIcon name="cil-cog" 
                    size="2xl" 
                    ></svg></button>
                    
                    <button
                    *ngIf="product.hidden"
                    (click)="hidden(product.id)">
                    <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512"><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"/></svg>
                  </button> 
                  <button
                  *ngIf="!product.hidden"
                    (click)="hidden(product.id)">
                    <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"/></svg>                  </button>                  
                  </td>
                </tr>
                </tbody>
              </table> 
              <div class="col-md-12">
                <pagination-controls
                  previousLabel="Prev"
                  nextLabel="Next"
                  [responsive]="true"
                  (pageChange)="handlePageChange($event)"
                ></pagination-controls>
              </div>                
        </c-card-body>  
      </c-card>
    </c-col>    
  </c-row>

